<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ukraine Coin - Tapalka</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

  body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #004aad, #007fff);
    color: #fff;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }
  header {
    text-align: center;
    padding: 15px 10px 10px;
    font-weight: 700;
    font-size: 24px;
    letter-spacing: 1.2px;
    user-select: none;
    text-shadow: 0 0 8px #00aaff;
  }
  main {
    flex-grow: 1;
    overflow-y: auto;
    padding: 10px 15px;
  }
  footer {
    display: flex;
    justify-content: space-around;
    background: #003e7f;
    padding: 8px 0;
    user-select: none;
  }
  footer button {
    background: none;
    border: none;
    color: #aaddff;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
    padding: 8px 12px;
    border-radius: 8px;
    transition: background-color 0.3s ease;
  }
  footer button.active, footer button:hover {
    background-color: #007fff;
    color: #fff;
  }
  .hidden {
    display: none;
  }
  /* --- TAP TAB --- */
  #tap-tab {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #coin-button {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    border: 4px solid #00c6ff;
    background: radial-gradient(circle at center, #00aaff, #005f9e);
    box-shadow: 0 0 20px #00aaff;
    cursor: pointer;
    margin: 25px 0;
    position: relative;
    transition: transform 0.1s ease;
  }
  #coin-button:active {
    transform: scale(0.9);
  }
  #coin-button img {
    width: 100px;
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    user-select: none;
  }
  #score-display {
    font-size: 36px;
    font-weight: 700;
    text-shadow: 0 0 10px #00ffff;
  }
  /* --- QUESTS TAB --- */
  #quests-tab {
    max-width: 600px;
    margin: 0 auto;
  }
  .quest {
    background: rgba(0,0,0,0.3);
    border-radius: 12px;
    margin-bottom: 15px;
    padding: 15px 20px;
    box-shadow: 0 0 12px #005f9e;
  }
  .quest h3 {
    margin: 0 0 8px 0;
    font-weight: 700;
  }
  .quest p {
    margin: 6px 0 12px 0;
    font-size: 14px;
    color: #aaddff;
  }
  .quest button {
    background: #00aaff;
    border: none;
    color: white;
    padding: 10px 18px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .quest button.completed {
    background: #33cc33;
    cursor: default;
  }
  .quest button:disabled {
    opacity: 0.7;
    cursor: default;
  }
  /* --- TOP TAB --- */
  #top-tab {
    max-width: 600px;
    margin: 0 auto;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    color: #aaddff;
    font-weight: 600;
  }
  th, td {
    padding: 10px 8px;
    border-bottom: 1px solid #004080;
    text-align: left;
  }
  th {
    background: #005f9e;
  }
  /* --- UPGRADES TAB --- */
  #upgrades-tab {
    max-width: 600px;
    margin: 0 auto;
  }
  .upgrade {
    background: rgba(0,0,0,0.3);
    border-radius: 12px;
    margin-bottom: 15px;
    padding: 15px 20px;
    box-shadow: 0 0 12px #005f9e;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .upgrade-info {
    max-width: 70%;
  }
  .upgrade-info h4 {
    margin: 0 0 8px 0;
    font-weight: 700;
  }
  .upgrade-info p {
    margin: 0;
    font-size: 14px;
    color: #aaddff;
  }
  .upgrade button {
    background: #007fff;
    border: none;
    color: white;
    padding: 10px 18px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .upgrade button:disabled {
    opacity: 0.6;
    cursor: default;
  }
  /* --- DONATE BUTTON --- */
  #donate-section {
    text-align: center;
    margin-top: 20px;
  }
  #donate-section a {
    display: inline-block;
    background: #00cc44;
    color: white;
    font-weight: 700;
    padding: 14px 30px;
    border-radius: 30px;
    text-decoration: none;
    font-size: 18px;
    box-shadow: 0 0 15px #00cc44;
    user-select: none;
    transition: background-color 0.3s ease;
  }
  #donate-section a:hover {
    background: #009933;
  }
</style>
</head>
<body>
<header>Ukraine Coin</header>

<main>
  <!-- TAP TAB -->
  <section id="tap-tab">
    <div id="score-display">–ú–æ–Ω–µ—Ç—ã: 0</div>
    <button id="coin-button" title="–ù–∞–∂–º–∏ –Ω–∞ –º–æ–Ω–µ—Ç—É!">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Coat_of_Arms_of_Ukraine.svg/120px-Coat_of_Arms_of_Ukraine.svg.png" alt="–ú–æ–Ω–µ—Ç–∞ –£–∫—Ä–∞–∏–Ω–∞" />
    </button>
  </section>

  <!-- QUESTS TAB -->
  <section id="quests-tab" class="hidden"></section>

  <!-- TOP TAB -->
  <section id="top-tab" class="hidden">
    <table>
      <thead>
        <tr><th>–ò–≥—Ä–æ–∫</th><th>–ú–æ–Ω–µ—Ç—ã</th></tr>
      </thead>
      <tbody id="top-list"></tbody>
    </table>
  </section>

  <!-- UPGRADES TAB -->
  <section id="upgrades-tab" class="hidden"></section>

  <section id="donate-section" class="hidden">
    <a href="https://savelife.in.ua/donate/" target="_blank" rel="noopener noreferrer">–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ó–°–£ üá∫üá¶</a>
  </section>
</main>

<footer>
  <button data-tab="tap" class="active">–¢–∞–ø–∞–ª–∫–∞</button>
  <button data-tab="quests">–ó–∞–¥–∞–Ω–∏—è</button>
  <button data-tab="top">–¢–æ–ø</button>
  <button data-tab="upgrades">–ü—Ä–æ–∫–∞—á–∫–∞</button>
  <button data-tab="donate">–î–æ–Ω–∞—Ç</button>
</footer>

<script>
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  const scoreDisplay = document.getElementById('score-display');
  const coinButton = document.getElementById('coin-button');
  const tabs = document.querySelectorAll('footer button');
  const tapTab = document.getElementById('tap-tab');
  const questsTab = document.getElementById('quests-tab');
  const topTab = document.getElementById('top-tab');
  const upgradesTab = document.getElementById('upgrades-tab');
  const donateTab = document.getElementById('donate-section');

  // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
  let score = parseInt(localStorage.getItem('score')) || 0;
  let upgrades = JSON.parse(localStorage.getItem('upgrades')) || { clickPower: 1 };
  let completedQuests = JSON.parse(localStorage.getItem('completedQuests')) || {};

  // –ò–º–∏—Ç–∏—Ä—É–µ–º "–±–∞–∑—É" –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è —Ç–æ–ø–∞ (–∫–ª—é—á - –∏–º—è, –∑–Ω–∞—á–µ–Ω–∏–µ - –º–æ–Ω–µ—Ç—ã)
  let players = JSON.parse(localStorage.getItem('players')) || {};
  const userName = `User${Math.floor(Math.random()*10000)}`;

  // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  function updateScore(diff) {
    score += diff;
    if(score < 0) score = 0;
    localStorage.setItem('score', score);
    scoreDisplay.textContent = `–ú–æ–Ω–µ—Ç—ã: ${score}`;
    updateTopPlayers();
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—á–µ—Ç–∞
  updateScore(0);

  // –ö–ª–∏–∫ –ø–æ –º–æ–Ω–µ—Ç–µ —Å —É—á–µ—Ç–æ–º –∞–ø–≥—Ä–µ–π–¥–æ–≤
  coinButton.addEventListener('click', () => {
    updateScore(upgrades.clickPower);
    coinButton.style.transform = 'scale(1.1)';
    setTimeout(() => coinButton.style.transform = 'scale(1)', 100);
  });

  // --- –¢–∞–±—ã ---

  function showTab(name) {
    [tapTab, questsTab, topTab, upgradesTab, donateTab].forEach(tab => tab.classList.add('hidden'));
    if(name === 'tap') tapTab.classList.remove('hidden');
    if(name === 'quests') questsTab.classList.remove('hidden');
    if(name === 'top') topTab.classList.remove('hidden');
    if(name === 'upgrades') upgradesTab.classList.remove('hidden');
    if(name === 'donate') donateTab.classList.remove('hidden');

    tabs.forEach(btn => btn.classList.toggle('active', btn.dataset.tab === name));

    if(name === 'quests') renderQuests();
    if(name === 'top') renderTop();
    if(name === 'upgrades') renderUpgrades();
  }

  tabs.forEach(btn => {
    btn.addEventListener('click', () => showTab(btn.dataset.tab));
  });

  showTab('tap');

  // --- –ó–∞–¥–∞–Ω–∏—è (–∫–≤–µ—Å—Ç—ã) ---

  // –ü—Ä–∏–º–µ—Ä –∑–∞–¥–∞–Ω–∏–π
  const questsList = [
    {
      id: 'tg_channel',
      title: '–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à Telegram-–∫–∞–Ω–∞–ª',
      desc: '–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –∏ –ø–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –∫–∞–Ω–∞–ª, –ø–æ—Ç–æ–º –æ—Ç–º–µ—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–æ.',
      url: 'https://t.me/ukrainecoinchannel',
      reward: 10000
    },
    {
      id: 'youtube',
      title: '–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à YouTube',
      desc: '–ü–æ–¥–¥–µ—Ä–∂–∏ –∫–∞–Ω–∞–ª –∏ –ø–æ–ª—É—á–∏ –Ω–∞–≥—Ä–∞–¥—É.',
      url: 'https://www.youtube.com/channel/UCUkrainecoin',
      reward: 15000
    },
    {
      id: 'tiktok',
      title: '–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ –Ω–∞—à TikTok',
      desc: '–ë—É–¥—å —Å –Ω–∞–º–∏ –∏ –ø–æ–ª—É—á–∏ –º–æ–Ω–µ—Ç—ã.',
      url: 'https://www.tiktok.com/@ukrainecoin',
      reward: 12000
    },
    {
      id: 'share_bot',
      title: '–ü–æ–¥–µ–ª–∏—Å—å –±–æ—Ç–æ–º —Å –¥—Ä—É–≥–æ–º',
      desc: '–ü—Ä–∏–≥–ª–∞—Å–∏ –¥—Ä—É–≥–∞ –∏ –ø–æ–ª—É—á–∏ –±–æ–Ω—É—Å.',
      url: 'https://t.me/ukrainecoinbot',
      reward: 8000
    },
    {
      id: 'watch_video',
      title: '–ü–æ—Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ –ø—Ä–æ –ó–°–£',
      desc: '–ü–æ—Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –º–æ–Ω–µ—Ç—ã.',
      url: 'https://youtu.be/VIDEO_ID_HERE',
      reward: 5000
    }
  ];

  function renderQuests() {
    questsTab.innerHTML = '';
    questsList.forEach(q => {
      const questDiv = document.createElement('div');
      questDiv.className = 'quest';

      const title = document.createElement('h3');
      title.textContent = q.title;

      const desc = document.createElement('p');
      desc.textContent = q.desc;

      const btn = document.createElement('button');
      btn.textContent = completedQuests[q.id] ? `–í—ã–ø–æ–ª–Ω–µ–Ω–æ (+${q.reward} –º–æ–Ω–µ—Ç)` : '–í—ã–ø–æ–ª–Ω–∏—Ç—å';
      btn.disabled = completedQuests[q.id] || false;
      btn.onclick = () => {
        window.open(q.url, '_blank');
        if(!completedQuests[q.id]) {
          completedQuests[q.id] = true;
          localStorage.setItem('completedQuests', JSON.stringify(completedQuests));
          updateScore(q.reward);
          renderQuests();
          alert(`–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! –¢—ã –ø–æ–ª—É—á–∏–ª ${q.reward} –º–æ–Ω–µ—Ç.`);
        }
      };

      questDiv.appendChild(title);
      questDiv.appendChild(desc);
      questDiv.appendChild(btn);
      questsTab.appendChild(questDiv);
    });
  }

  // --- –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤ ---

  function updateTopPlayers() {
    players[userName] = score;
    localStorage.setItem('players', JSON.stringify(players));
  }

  function renderTop() {
    updateTopPlayers();
    const tbody = document.getElementById('top-list');
    tbody.innerHTML = '';
    // —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —É–±—ã–≤–∞–Ω–∏—é –º–æ–Ω–µ—Ç
    const sorted = Object.entries(players)
      .sort((a,b) => b[1] - a[1])
      .slice(0, 20);

    sorted.forEach(([name, score], i) => {
      const tr = document.createElement('tr');
      const rankTd = document.createElement('td');
      rankTd.textContent = name;
      const scoreTd = document.createElement('td');
      scoreTd.textContent = score;
      tr.appendChild(rankTd);
      tr.appendChild(scoreTd);
      tbody.appendChild(tr);
    });
  }

  // --- –ü—Ä–æ–∫–∞—á–∫–∞ ---

  const upgradesList = [
    {
      id: 'clickPower',
      title: '+1 –∫–ª–∏–∫ (—Å—Ç–æ–∏–º–æ—Å—Ç—å 1000 –º–æ–Ω–µ—Ç)',
      desc: '–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –∑–∞ –∫–ª–∏–∫ –Ω–∞ 1.',
      cost: 1000,
      effect: () => { upgrades.clickPower += 1; }
    },
    {
      id: 'clickPower2',
      title: '+5 –∫ –∫–ª–∏–∫—É (—Å—Ç–æ–∏–º–æ—Å—Ç—å 10000 –º–æ–Ω–µ—Ç)',
      desc: '–î–æ–±–∞–≤–ª—è–µ—Ç +5 –∫ –º–æ–Ω–µ—Ç–∞–º –∑–∞ –∫–ª–∏–∫.',
      cost: 10000,
      effect: () => { upgrades.clickPower += 5; }
    },
    {
      id: 'clickPower3',
      title: '+10 –∫ –∫–ª–∏–∫—É (—Å—Ç–æ–∏–º–æ—Å—Ç—å 20000 –º–æ–Ω–µ—Ç)',
      desc: '–î–æ–±–∞–≤–ª—è–µ—Ç +10 –∫ –º–æ–Ω–µ—Ç–∞–º –∑–∞ –∫–ª–∏–∫.',
      cost: 20000,
      effect: () => { upgrades.clickPower += 10; }
    },
    {
      id: 'clickPower4',
      title: '+30 –∫ –∫–ª–∏–∫—É (—Å—Ç–æ–∏–º–æ—Å—Ç—å 30000 –º–æ–Ω–µ—Ç)',
      desc: '–î–æ–±–∞–≤–ª—è–µ—Ç +30 –∫ –º–æ–Ω–µ—Ç–∞–º –∑–∞ –∫–ª–∏–∫.',
      cost: 30000,
      effect: () => { upgrades.clickPower += 30; }
    }
  ];

  function renderUpgrades() {
    upgradesTab.innerHTML = '';
    upgradesList.forEach(upg => {
      const div = document.createElement('div');
      div.className = 'upgrade';

      const info = document.createElement('div');
      info.className = 'upgrade-info';

      const title = document.createElement('h4');
      title.textContent = upg.title;

      const desc = document.createElement('p');
      desc.textContent = upg.desc;

      info.appendChild(title);
      info.appendChild(desc);

      const btn = document.createElement('button');
      btn.textContent = `–ö—É–ø–∏—Ç—å (${upg.cost} –º–æ–Ω–µ—Ç)`;
      btn.disabled = score < upg.cost;

      btn.onclick = () => {
        if(score >= upg.cost) {
          updateScore(-upg.cost);
          upg.effect();
          localStorage.setItem('upgrades', JSON.stringify(upgrades));
          renderUpgrades();
          alert('–£–ª—É—á—à–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–æ!');
        }
      };

      div.appendChild(info);
      div.appendChild(btn);

      upgradesTab.appendChild(div);
    });
  }
</script>

</body>
</html>
